<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Python TSP &#8211; Luke's Blog</title>
<meta name="description" content="A couple of useful scripts to solve the Travelling Salesman Problem in Python (using third party API's).">
<meta name="keywords" content="python, google maps, opensteeetmap, mapquest">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://crooksey.github.io/images/abstract-10.jpg">

<meta name="twitter:title" content="Python TSP">
<meta name="twitter:description" content="A couple of useful scripts to solve the Travelling Salesman Problem in Python (using third party API's).">
<meta name="twitter:creator" content="@cr0oksey">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Python TSP">
<meta property="og:description" content="A couple of useful scripts to solve the Travelling Salesman Problem in Python (using third party API's).">
<meta property="og:url" content="http://crooksey.github.io/python-tsp/">
<meta property="og:site_name" content="Luke's Blog">





<link rel="canonical" href="http://crooksey.github.io/python-tsp/">
<link href="http://crooksey.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Luke's Blog Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://crooksey.github.io/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://crooksey.github.io/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://crooksey.github.io/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://crooksey.github.io/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://crooksey.github.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://crooksey.github.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://crooksey.github.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://crooksey.github.io/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://crooksey.github.io">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://crooksey.github.io/images/avatar.jpg" alt="Luke Crooks photo" class="author-photo">
					<h4>Luke Crooks</h4>
					<p>Python web developer</p>
				</li>
				<li><a href="http://crooksey.github.io/about/">Learn More</a></li>
				<li>
					<a href="mailto:luke@pumalo.org"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/cr0oksey"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				
				
				<li>
					<a href="http://github.com/crooksey"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://crooksey.github.io/posts/">All Posts</a></li>
				<li><a href="http://crooksey.github.io/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://pumalo.org" target="_blank">Luke's Website</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  
  <div class="entry-image">
    <img src="http://crooksey.github.io/images/abstract-10.jpg" alt="Python TSP">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://crooksey.github.io/python-tsp/" rel="bookmark" title="Python TSP">Python TSP</a></h1>
        
        <h2>August 02, 2014</h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~12 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <h3 id="the-problem">The problem</h3>

<p>Wikipedia states, the travelling salesman problem as this: “The travelling salesman problem asks the following question: Given a list of cities and the distances between each pair of cities, what is the shortest possible route that visits each city exactly once and returns to the origin city?”</p>

<p>The actual equation behind this formula is very complex and the explanation of this is is probably best left to the <a href="http://en.wikipedia.org/wiki/Travelling_salesman_problem">Wikipedia Page</a></p>

<h3 id="my-use-case">My use case</h3>

<p>I wrote an application that takes X number of orders, and has to split them between 9 vehicles, based on their, weight dimension and delivery location. I was first going to use my own formula to do this, but the
time and power taken to run this in production, is a bit out of the question. So instead, I decided to sort
all of the orders out into what vehicle they would end up in (code available for sale).</p>

<p>Now, I have 10-15 different addresses that I need to calculate the most efficient route for. So instead of writing a system from scratch, I decided to connect to a third party API.</p>

<h3 id="it-started-with-google">It started with Google…</h3>

<p>So I first wrote the following script in python, to work with the Google Maps API. (I didn’t realise they wanted £7,500 a year ex VAT to use their API, so I moved onto an open source solution). If you are a Google maps user and want to take advantage of my code, it is shown below with comments: (it could be compressed a lot more, but I have tried to make it easy to read for those from a less technical background) </p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="c">################################################################### Start and finish at same place ######## go via, with route optimise ##</span>
<span class="c"># this method takes advantage of the optimisiation that Google lets us use.</span>
<span class="n">url</span><span class="o">=</span> <span class="s">&quot;https://maps.googleapis.com/maps/api/directions/json?origin=Portsmouth,UK&amp;destination=Portsmouth,UK&amp;waypoints=optimize:true|Southampton,UK|Poole,UK|Reading,UK|Bridport,Dorset&amp;sensor=false&amp;key=YOURAPIKEYHERE&quot;</span>
<span class="c"># set the waypoints in the url</span>
<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c"># now get the json response</span>
<span class="n">pre_json</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pre_json</span><span class="p">)</span>
<span class="n">data_new</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c">#load into dict</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data_new</span><span class="p">)</span>

<span class="n">routes</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c"># get the starting address</span>
<span class="n">start_address</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;start_address&#39;</span><span class="p">]</span>
<span class="n">start_lat</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;start_location&#39;</span><span class="p">][</span><span class="s">u&#39;lat&#39;</span><span class="p">]</span>
<span class="n">start_long</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;start_location&#39;</span><span class="p">][</span><span class="s">u&#39;lng&#39;</span><span class="p">]</span>

<span class="n">routes</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="n">start_address</span><span class="p">,</span> <span class="s">&#39;lat&#39;</span><span class="p">:</span> <span class="n">start_lat</span><span class="p">,</span> <span class="s">&#39;lng&#39;</span><span class="p">:</span> <span class="n">start_long</span><span class="p">})</span>
<span class="n">total_time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">total_distance</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">]:</span>
	<span class="n">total_time</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;duration&#39;</span><span class="p">][</span><span class="s">&#39;value&#39;</span><span class="p">]</span>
	<span class="n">total_distance</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;distance&#39;</span><span class="p">][</span><span class="s">&#39;value&#39;</span><span class="p">]</span>
	<span class="n">address</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;end_address&#39;</span><span class="p">]</span>
	<span class="n">lat</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;end_location&#39;</span><span class="p">][</span><span class="s">u&#39;lat&#39;</span><span class="p">]</span>
	<span class="n">lng</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;end_location&#39;</span><span class="p">][</span><span class="s">u&#39;lng&#39;</span><span class="p">]</span>
	<span class="n">routes</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="n">address</span><span class="p">,</span> <span class="s">&#39;lat&#39;</span><span class="p">:</span> <span class="n">lat</span><span class="p">,</span> <span class="s">&#39;lng&#39;</span><span class="p">:</span> <span class="n">lng</span><span class="p">})</span>
<span class="k">print</span> <span class="s">&#39;##############################################################################&#39;</span>
<span class="k">print</span> <span class="s">&#39;Optimised Route&#39;</span>
<span class="k">print</span> <span class="s">&#39;##############################################################################&#39;</span>
<span class="n">tt</span> <span class="o">=</span> <span class="p">(</span><span class="n">total_time</span> <span class="o">/</span> <span class="mf">3600.00</span><span class="p">)</span>
<span class="n">td</span> <span class="o">=</span> <span class="n">total_distance</span><span class="o">*</span><span class="mf">0.000621371192</span>
<span class="k">print</span> <span class="s">&quot;Total Time </span><span class="si">%.2f</span><span class="s"> hours&quot;</span> <span class="o">%</span> <span class="nb">round</span><span class="p">(</span><span class="n">tt</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Total Distance </span><span class="si">%.2f</span><span class="s"> miles&quot;</span> <span class="o">%</span> <span class="nb">round</span><span class="p">(</span><span class="n">td</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">routes</span><span class="p">:</span>
	<span class="k">print</span> <span class="n">x</span>

<span class="c">## ORIG ROUTE ##</span>
<span class="c"># Now we put the route in, without any optimisation flags so we can compare</span>
<span class="n">url2</span> <span class="o">=</span> <span class="s">&quot;https://maps.googleapis.com/maps/api/directions/json?origin=Portsmouth,UK&amp;destination=Portsmouth,UK&amp;waypoints=|Southampton,UK|Poole,UK|Reading,UK|Bridport,Dorset&amp;sensor=false&amp;key=YOURAPIKEYHERE&quot;</span>
<span class="n">data2</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url2</span><span class="p">)</span>

<span class="n">pre_json2</span> <span class="o">=</span> <span class="n">data2</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="n">obj2</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">pre_json2</span><span class="p">)</span>
<span class="n">data_new2</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">obj2</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c">#load into dict</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data_new2</span><span class="p">)</span>

<span class="n">routes2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">start_address2</span> <span class="o">=</span> <span class="n">d2</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;start_address&#39;</span><span class="p">]</span>
<span class="n">start_lat2</span> <span class="o">=</span> <span class="n">d2</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;start_location&#39;</span><span class="p">][</span><span class="s">u&#39;lat&#39;</span><span class="p">]</span>
<span class="n">start_long2</span> <span class="o">=</span> <span class="n">d2</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;start_location&#39;</span><span class="p">][</span><span class="s">u&#39;lng&#39;</span><span class="p">]</span>

<span class="n">routes2</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="n">start_address</span><span class="p">,</span> <span class="s">&#39;lat&#39;</span><span class="p">:</span> <span class="n">start_lat</span><span class="p">,</span> <span class="s">&#39;lng&#39;</span><span class="p">:</span> <span class="n">start_long</span><span class="p">})</span>
<span class="n">total_time2</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">total_distance2</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">d2</span><span class="p">[</span><span class="s">&#39;routes&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;legs&#39;</span><span class="p">]:</span>
	<span class="n">total_time2</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;duration&#39;</span><span class="p">][</span><span class="s">&#39;value&#39;</span><span class="p">]</span>
	<span class="n">total_distance2</span> <span class="o">+=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;distance&#39;</span><span class="p">][</span><span class="s">&#39;value&#39;</span><span class="p">]</span>
	<span class="n">address</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;end_address&#39;</span><span class="p">]</span>
	<span class="n">lat</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;end_location&#39;</span><span class="p">][</span><span class="s">u&#39;lat&#39;</span><span class="p">]</span>
	<span class="n">lng</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="s">&#39;end_location&#39;</span><span class="p">][</span><span class="s">u&#39;lng&#39;</span><span class="p">]</span>
	<span class="n">routes2</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;address&#39;</span><span class="p">:</span> <span class="n">address</span><span class="p">,</span> <span class="s">&#39;lat&#39;</span><span class="p">:</span> <span class="n">lat</span><span class="p">,</span> <span class="s">&#39;lng&#39;</span><span class="p">:</span> <span class="n">lng</span><span class="p">})</span>
<span class="k">print</span> <span class="s">&#39;##############################################################################&#39;</span>
<span class="k">print</span> <span class="s">&#39;Original Route&#39;</span>
<span class="k">print</span> <span class="s">&#39;##############################################################################&#39;</span>
<span class="n">tt2</span> <span class="o">=</span> <span class="p">(</span><span class="n">total_time2</span> <span class="o">/</span> <span class="mf">3600.00</span><span class="p">)</span>
<span class="n">td2</span> <span class="o">=</span> <span class="n">total_distance2</span><span class="o">*</span><span class="mf">0.000621371192</span>
<span class="k">print</span> <span class="s">&quot;Total Time </span><span class="si">%.2f</span><span class="s"> hours&quot;</span> <span class="o">%</span> <span class="nb">round</span><span class="p">(</span><span class="n">tt2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;Total Distance </span><span class="si">%.2f</span><span class="s"> miles&quot;</span> <span class="o">%</span> <span class="nb">round</span><span class="p">(</span><span class="n">td2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">routes2</span><span class="p">:</span>
	<span class="k">print</span> <span class="n">x</span>

<span class="k">print</span> <span class="s">&#39;##############################################################################&#39;</span>
<span class="k">print</span> <span class="s">&#39;Summary&#39;</span>
<span class="k">print</span> <span class="s">&#39;##############################################################################&#39;</span>
<span class="n">total_saving_time</span> <span class="o">=</span> <span class="n">tt2</span> <span class="o">-</span> <span class="n">tt</span>
<span class="n">total_saving_distance</span> <span class="o">=</span> <span class="n">td2</span> <span class="o">-</span> <span class="n">td</span>
<span class="k">print</span> <span class="s">&#39;The optimised route is </span><span class="si">%.2f</span><span class="s"> miles shorter&#39;</span> <span class="o">%</span> <span class="nb">round</span><span class="p">(</span><span class="n">total_saving_distance</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;And also saves </span><span class="si">%.2f</span><span class="s"> hours of time&#39;</span> <span class="o">%</span> <span class="nb">round</span><span class="p">(</span><span class="n">total_saving_time</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span></code></pre></div>

<p>Here is an example output:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">##############################################################################</span>
Optimised Route
<span class="c">##############################################################################</span>
Total Time 5.95 hours
Total Distance 274.23 miles
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.8166745, <span class="s1">&#39;lng&#39;</span>: -1.0833259, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Portsmouth, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 51.4544776, <span class="s1">&#39;lng&#39;</span>: -0.9781547, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Reading, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.7150463, <span class="s1">&#39;lng&#39;</span>: -1.9872525, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Poole, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.7335746, <span class="s1">&#39;lng&#39;</span>: -2.7583416, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Bridport, Dorset DT6, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.9096948, <span class="s1">&#39;lng&#39;</span>: -1.4047779, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Southampton, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.8166745, <span class="s1">&#39;lng&#39;</span>: -1.0833259, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Portsmouth, UK&#39;</span><span class="o">}</span>
<span class="c">##############################################################################</span>
Original Route
<span class="c">##############################################################################</span>
Total Time 7.32 hours
Total Distance 334.71 miles
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.8166745, <span class="s1">&#39;lng&#39;</span>: -1.0833259, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Portsmouth, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.9096948, <span class="s1">&#39;lng&#39;</span>: -1.4047779, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Southampton, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.7150463, <span class="s1">&#39;lng&#39;</span>: -1.9872525, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Poole, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 51.4544776, <span class="s1">&#39;lng&#39;</span>: -0.9781547, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Reading, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.7335746, <span class="s1">&#39;lng&#39;</span>: -2.7583416, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Bridport, Dorset DT6, UK&#39;</span><span class="o">}</span>
<span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 50.8166745, <span class="s1">&#39;lng&#39;</span>: -1.0833259, <span class="s1">&#39;address&#39;</span>: u<span class="s1">&#39;Portsmouth, UK&#39;</span><span class="o">}</span>
<span class="c">##############################################################################</span>
Summary
<span class="c">##############################################################################</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="s1">The optimised route is 60.48 miles shorter</span>
<span class="s1">And also saves 1.36 hours of time</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="c">###############################################################################</span>
<span class="nb">time </span>python tsp.py
real	0m5.843s
user	0m0.128s
sys	0m0.040s
<span class="c">###############################################################################</span></code></pre></div>

<h3 id="open-source-style">Open Source Style..</h3>

<p>Now, lets do the same thing, but with a FREE licence and using Open Source data, using the brilliant API from <a href="http://developer.mapquest.com/web/products/open">MapQuest</a></p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="c"># set your app key</span>
<span class="n">my_app_key</span> <span class="o">=</span> <span class="s">&quot;YOUR_KEY&quot;</span>

<span class="c"># add points to the route</span>
<span class="n">route</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;locations&quot;</span><span class="p">:[]}</span>
<span class="n">route</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span><span class="s">&quot;latLng&quot;</span><span class="p">:{</span><span class="s">&quot;lat&quot;</span><span class="p">:</span><span class="mf">51.524410144966154</span><span class="p">,</span><span class="s">&quot;lng&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.12989273652335526</span><span class="p">}})</span>
<span class="n">route</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span><span class="s">&quot;latLng&quot;</span><span class="p">:{</span><span class="s">&quot;lat&quot;</span><span class="p">:</span><span class="mf">51.54495915136182</span><span class="p">,</span><span class="s">&quot;lng&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.16518885449221493</span><span class="p">}})</span>
<span class="n">route</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span><span class="s">&quot;latLng&quot;</span><span class="p">:{</span><span class="s">&quot;lat&quot;</span><span class="p">:</span><span class="mf">51.52061842826141</span><span class="p">,</span><span class="s">&quot;lng&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.1495479641837033</span><span class="p">}})</span>
<span class="n">route</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span><span class="s">&quot;latLng&quot;</span><span class="p">:{</span><span class="s">&quot;lat&quot;</span><span class="p">:</span><span class="mf">51.52850609658769</span><span class="p">,</span><span class="s">&quot;lng&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">0.20170525707760403</span><span class="p">}})</span>

<span class="c"># url to post of API</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&quot;http://open.mapquestapi.com/directions/v2/optimizedroute?key=&quot;</span> <span class="o">+</span> <span class="n">my_app_key</span>
<span class="n">url_basic</span> <span class="o">=</span> <span class="s">&quot;http://open.mapquestapi.com/directions/v2/route?key=&quot;</span> <span class="o">+</span> <span class="n">my_app_key</span>
<span class="c"># Important, we need to add headers saying we are posting JSON</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;Content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span> <span class="s">&#39;Accept&#39;</span><span class="p">:</span> <span class="s">&#39;text/plain&#39;</span><span class="p">}</span>

<span class="c"># build the request</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">route</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">r_basic</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url_basic</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">route</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="c"># load the json respone into the praser </span>
<span class="n">route_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">route_json_basic</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">r_basic</span><span class="o">.</span><span class="n">json</span><span class="p">(),</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="c"># load into a python data structure</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">route_json</span><span class="p">)</span>
<span class="n">data_basic</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">route_json_basic</span><span class="p">)</span>

<span class="c"># Map URL to generate a map showing the routes we are taking on this trip</span>
<span class="n">map_placeholder</span> <span class="o">=</span> <span class="s">&quot;http://open.mapquestapi.com/staticmap/v4/getmap?key={my_app_key}&amp;bestfit={bestfit}&amp;shape={shape}&amp;size=600,600&amp;type=map&amp;imagetype=jpeg&quot;</span>

<span class="c"># Define some functions to return clean data</span>
<span class="k">def</span> <span class="nf">get_bounding_box</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
	<span class="c"># load the bounding box data which forms the edges</span>
	<span class="c"># of the static map we will be using</span>
	<span class="n">bestfit</span> <span class="o">=</span> <span class="s">&quot;{lat1},{long1},{lat2},{long2}&quot;</span>
	<span class="n">bestfit_clean</span> <span class="o">=</span> <span class="n">bestfit</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">lat1</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;ul&#39;</span><span class="p">][</span><span class="s">&#39;lat&#39;</span><span class="p">],</span> 
		<span class="n">long1</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;ul&#39;</span><span class="p">][</span><span class="s">&#39;lng&#39;</span><span class="p">],</span> <span class="n">lat2</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;lr&#39;</span><span class="p">][</span><span class="s">&#39;lat&#39;</span><span class="p">],</span> 
		<span class="n">long2</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;lr&#39;</span><span class="p">][</span><span class="s">&#39;lng&#39;</span><span class="p">])</span>
	<span class="c"># now return the clean variable for use in the static map url</span>
	<span class="k">return</span> <span class="n">bestfit_clean</span>

<span class="k">def</span> <span class="nf">get_shape</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
	<span class="n">seq</span> <span class="o">=</span> <span class="s">&quot;&quot;</span>
	<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">]:</span>
		<span class="n">latLng</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s">&#39;displayLatLng&#39;</span><span class="p">][</span><span class="s">&#39;lat&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39;,&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s">&#39;displayLatLng&#39;</span><span class="p">][</span><span class="s">&#39;lng&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39;,&#39;</span>
		<span class="n">seq</span> <span class="o">=</span> <span class="n">seq</span> <span class="o">+</span> <span class="n">latLng</span>
	<span class="c"># remove last trailing comma</span>
	<span class="n">shape_clean</span> <span class="o">=</span> <span class="n">seq</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">shape_clean</span>

<span class="c"># run data through the functions</span>
<span class="n">shape_basic</span> <span class="o">=</span> <span class="n">get_shape</span><span class="p">(</span><span class="n">data_basic</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">])</span>
<span class="n">shape_optimised</span> <span class="o">=</span> <span class="n">get_shape</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">])</span>
<span class="n">bestfit_basic</span> <span class="o">=</span> <span class="n">get_bounding_box</span><span class="p">(</span><span class="n">data_basic</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;boundingBox&#39;</span><span class="p">])</span>
<span class="n">bestfit_optimised</span> <span class="o">=</span> <span class="n">get_bounding_box</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;boundingBox&#39;</span><span class="p">])</span>

<span class="c"># generate map URL</span>
<span class="n">map_basic</span> <span class="o">=</span> <span class="n">map_placeholder</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">my_app_key</span><span class="o">=</span><span class="n">my_app_key</span><span class="p">,</span> <span class="n">bestfit</span><span class="o">=</span><span class="n">bestfit_basic</span><span class="p">,</span> 
	<span class="n">shape</span><span class="o">=</span><span class="n">shape_basic</span><span class="p">)</span>
<span class="n">map_optimised</span> <span class="o">=</span> <span class="n">map_placeholder</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">my_app_key</span><span class="o">=</span><span class="n">my_app_key</span><span class="p">,</span> <span class="n">bestfit</span><span class="o">=</span><span class="n">bestfit_optimised</span><span class="p">,</span>
	<span class="n">shape</span><span class="o">=</span><span class="n">shape_optimised</span><span class="p">)</span>

<span class="c"># Get a printout of the data</span>
<span class="k">print</span> <span class="s">&#39;&gt;------------&lt;&#39;</span>
<span class="k">print</span> <span class="s">&#39;Original Route&#39;</span>
<span class="k">print</span> <span class="s">&#39;&gt;------------&lt;&#39;</span>
<span class="c"># Show original order</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data_basic</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;locationSequence&#39;</span><span class="p">]:</span>
	<span class="k">print</span> <span class="n">route</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)][</span><span class="s">&#39;latLng&#39;</span><span class="p">][</span><span class="s">&#39;lat&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&quot;Total Distance &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data_basic</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;distance&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39; miles&#39;</span>
<span class="k">print</span> <span class="s">&quot;Total Fuel Used &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data_basic</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;fuelUsed&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39; litres&#39;</span>
<span class="k">print</span> <span class="s">&quot;Total Time &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">data_basic</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;formattedTime&#39;</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&#39;Map &#39;</span> <span class="o">+</span> <span class="n">map_basic</span>
<span class="k">print</span> <span class="s">&#39;&#39;</span>
<span class="k">print</span> <span class="s">&#39;&gt;-------------&lt;&#39;</span>
<span class="k">print</span> <span class="s">&#39;Optimised Route&#39;</span>
<span class="k">print</span> <span class="s">&#39;&gt;-------------&lt;&#39;</span>
<span class="c"># Show optimised order</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;locationSequence&#39;</span><span class="p">]:</span>
	<span class="k">print</span> <span class="n">route</span><span class="p">[</span><span class="s">&#39;locations&#39;</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span>
<span class="k">print</span> <span class="s">&quot;Total Distance &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;distance&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39; miles&#39;</span>
<span class="k">print</span> <span class="s">&quot;Total Fuel Used &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;fuelUsed&#39;</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39; litres&#39;</span>
<span class="k">print</span> <span class="s">&quot;Total Time &quot;</span> <span class="o">+</span>  <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;route&#39;</span><span class="p">][</span><span class="s">&#39;formattedTime&#39;</span><span class="p">])</span>
<span class="k">print</span> <span class="s">&#39;Map &#39;</span> <span class="o">+</span> <span class="n">map_optimised</span></code></pre></div>

<p>The results shown below, you can use their free GeoCoding service to take address strings and turn them
into coordinates. </p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">luke@xbu64:~/python<span class="nv">$ </span>python open_tsp.py 
&gt;------------&lt;
Original Route
&gt;------------&lt;
51.524410145
51.5449591514
51.5206184283
51.5285060966
Total Distance 8.482 miles
Total Fuel Used 0.52 litres
Total Time 00:25:13
Map http://open.mapquestapi.com/staticmap/v4/getmap?key<span class="o">=</span>YOURKEY<span class="p">&amp;</span><span class="nv">bestfit</span><span class="o">=</span>51.547508,-0.201385,51.519817,-0.127893<span class="p">&amp;</span><span class="nv">shape</span><span class="o">=</span>51.524410145,-0.129892736523,51.5449591514,-0.165188854492,51.5206184283,-0.149547964184,51.5285060966,-0.201705257078<span class="p">&amp;</span><span class="nv">size</span><span class="o">=</span>600,600<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>map<span class="p">&amp;</span><span class="nv">imagetype</span><span class="o">=</span>jpeg

&gt;-------------&lt;
Optimised Route
&gt;-------------&lt;
<span class="o">{</span><span class="s1">&#39;latLng&#39;</span>: <span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 51.524410144966154, <span class="s1">&#39;lng&#39;</span>: -0.12989273652335526<span class="o">}}</span>
<span class="o">{</span><span class="s1">&#39;latLng&#39;</span>: <span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 51.52061842826141, <span class="s1">&#39;lng&#39;</span>: -0.1495479641837033<span class="o">}}</span>
<span class="o">{</span><span class="s1">&#39;latLng&#39;</span>: <span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 51.54495915136182, <span class="s1">&#39;lng&#39;</span>: -0.16518885449221493<span class="o">}}</span>
<span class="o">{</span><span class="s1">&#39;latLng&#39;</span>: <span class="o">{</span><span class="s1">&#39;lat&#39;</span>: 51.52850609658769, <span class="s1">&#39;lng&#39;</span>: -0.20170525707760403<span class="o">}}</span>
Total Distance 7.116 miles
Total Fuel Used 0.43 litres
Total Time 00:21:37
Map http://open.mapquestapi.com/staticmap/v4/getmap?key<span class="o">=</span>YOURKEY<span class="p">&amp;</span><span class="nv">bestfit</span><span class="o">=</span>51.547508,-0.201385,51.519962,-0.130076<span class="p">&amp;</span><span class="nv">shape</span><span class="o">=</span>51.524410145,-0.129892736523,51.5206184283,-0.149547964184,51.5449591514,-0.165188854492,51.5285060966,-0.201705257078<span class="p">&amp;</span><span class="nv">size</span><span class="o">=</span>600,600<span class="p">&amp;</span><span class="nb">type</span><span class="o">=</span>map<span class="p">&amp;</span><span class="nv">imagetype</span><span class="o">=</span>jpeg</code></pre></div>

<p>The above code also generates a static map so you can see a visual representation of the route you
just solved :)</p>

<p>Need any help with a project that uses Maps, Geo-positional or GIS? Hit me up luke@pumalo.org</p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://crooksey.github.io/tags/#python" title="Pages tagged python" class="tag">python</a><a href="http://crooksey.github.io/tags/#google maps" title="Pages tagged google maps" class="tag">google maps</a><a href="http://crooksey.github.io/tags/#opensteeetmap" title="Pages tagged opensteeetmap" class="tag">opensteeetmap</a><a href="http://crooksey.github.io/tags/#mapquest" title="Pages tagged mapquest" class="tag">mapquest</a></span>
        <span><a href="http://crooksey.github.io/python-tsp/" rel="bookmark" title="Python TSP">Python TSP</a> was published on <span class="entry-date date published updated"><time datetime="2014-08-02T00:00:00+01:00">August 02, 2014</time></span></span>
        (revised: <span class="entry-date date modified"><time datetime="2014-08-02">08/02/2014</time></span>)
        <span class="author vcard"><span class="fn"><a href="http://crooksey.github.io/about/" title="About Luke Crooks">Luke Crooks</a></span></span>
        <div class="social-share">
          <ul class="socialcount socialcount-small inline-list">
            <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://crooksey.github.io/python-tsp/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
            <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://crooksey.github.io/python-tsp/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
            <li class="googleplus"><a href="https://plus.google.com/share?url=http://crooksey.github.io/python-tsp/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
          </ul>
        </div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    
    
    <div class="read-more">
      
        <div class="read-more-header">
          <a href="http://crooksey.github.io/docker-jenkins/" class="read-more-btn">Read More</a>
        </div><!-- /.read-more-header -->
        <div class="read-more-content">
          <h3><a href="http://crooksey.github.io/docker-jenkins/" title="How to scale a web application with one docker container">How to scale a web application with one docker container</a></h3>
          <p>Load everything inside one docker container, not multiple containers. <a href="http://crooksey.github.io/docker-jenkins/">Continue reading</a></p>
        </div><!-- /.read-more-content -->
      
      <div class="read-more-list">
        
          <div class="list-item">
            <h4><a href="http://crooksey.github.io/why-i-stopped-django/" title="Why I stopped using Django">Why I stopped using Django</a></h4>
            <span>Published on July 21, 2014</span>
          </div><!-- /.list-item -->
        
          <div class="list-item">
            <h4><a href="http://crooksey.github.io/psql-cheats/" title="PostgreSQL cheat sheet">PostgreSQL cheat sheet</a></h4>
            <span>Published on July 20, 2014</span>
          </div><!-- /.list-item -->
        
      </div><!-- /.read-more-list -->
      
    </div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Luke Crooks.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://crooksey.github.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://crooksey.github.io/assets/js/scripts.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>	        

</body>
</html>
